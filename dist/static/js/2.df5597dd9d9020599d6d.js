webpackJsonp([2],{"1Q3C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lC5x"),r=n.n(a),l=n("J0Oq"),s=n.n(l),i=n("GjKx"),c={name:"Public",data:function(){return{title:"",summary:"",content:"",type:"",username:this.$route.query.username}},computed:{public:function(){return this.title.length&&this.summary.length&&this.type.length&&this.content.length}},methods:{addArticle:function(){var e=this;return s()(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.public){t.next=7;break}return t.next=3,i.a.addArticle({username:e.username,article:{title:e.title,summary:e.summary,content:e.content,timestamp:+new Date,type:e.type}});case 3:"0"==(n=t.sent).error_info&&(e.$toast(n.message),e.$router.push({path:"/home",query:{username:e.username}})),t.next=8;break;case 7:e.$toast("请填写完整的文章信息，谢谢！");case 8:case"end":return t.stop()}},t,e)}))()}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("HeaderBar",{attrs:{title:"发布文章"}}),e._v(" "),n("van-field",{attrs:{label:"文章标题",placeholder:"请填写文章标题"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),n("van-field",{attrs:{label:"文章摘要",placeholder:"请填写文章摘要"},model:{value:e.summary,callback:function(t){e.summary=t},expression:"summary"}}),e._v(" "),n("van-field",{attrs:{label:"文章类型",placeholder:"请填写文章类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),n("van-field",{attrs:{rows:"15",autosize:"",label:"正文内容",type:"textarea",maxlength:"2000","show-word-limit":"",placeholder:"正文内容"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e._v(" "),n("van-button",{attrs:{size:"large",color:"#F24957"},on:{click:e.addArticle}},[e._v("确认发布")])],1)},staticRenderFns:[]};var u=n("C7Lr")(c,o,!1,function(e){n("SNF9")},null,null);t.default=u.exports},SNF9:function(e,t){}});
//# sourceMappingURL=2.df5597dd9d9020599d6d.js.map